[gd_scene load_steps=30 format=3 uid="uid://cj81lcigmv75t"]

[ext_resource type="Script" path="res://actors/niko/niko.gd" id="1_jnit1"]
[ext_resource type="Texture2D" uid="uid://dd8npbmnwvm0b" path="res://actors/niko/graphics/idle.png" id="2_fqws1"]
[ext_resource type="Texture2D" uid="uid://dyyj2f32hriwp" path="res://actors/niko/graphics/walk.png" id="3_yf3ee"]
[ext_resource type="Texture2D" uid="uid://bj5435hlpu0xx" path="res://lights/circle.png" id="4_5qsl3"]

[sub_resource type="AtlasTexture" id="AtlasTexture_q67ww"]
atlas = ExtResource("2_fqws1")
region = Rect2(0, 0, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_a7pjj"]
atlas = ExtResource("2_fqws1")
region = Rect2(27, 0, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_hiac0"]
atlas = ExtResource("2_fqws1")
region = Rect2(81, 0, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_pcoys"]
atlas = ExtResource("2_fqws1")
region = Rect2(54, 0, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_7puw6"]
atlas = ExtResource("3_yf3ee")
region = Rect2(0, 0, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_etl5n"]
atlas = ExtResource("3_yf3ee")
region = Rect2(27, 0, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_vtcpu"]
atlas = ExtResource("3_yf3ee")
region = Rect2(54, 0, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_2g1y5"]
atlas = ExtResource("3_yf3ee")
region = Rect2(81, 0, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_jkv0t"]
atlas = ExtResource("3_yf3ee")
region = Rect2(0, 60, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_ox2un"]
atlas = ExtResource("3_yf3ee")
region = Rect2(27, 60, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_vihf0"]
atlas = ExtResource("3_yf3ee")
region = Rect2(54, 60, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_b5fa5"]
atlas = ExtResource("3_yf3ee")
region = Rect2(81, 60, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_0tho4"]
atlas = ExtResource("3_yf3ee")
region = Rect2(0, 90, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_qmknv"]
atlas = ExtResource("3_yf3ee")
region = Rect2(27, 90, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_oyn81"]
atlas = ExtResource("3_yf3ee")
region = Rect2(54, 90, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_pfvcc"]
atlas = ExtResource("3_yf3ee")
region = Rect2(81, 90, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_n8q7p"]
atlas = ExtResource("3_yf3ee")
region = Rect2(0, 30, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_te33i"]
atlas = ExtResource("3_yf3ee")
region = Rect2(27, 30, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_ludvk"]
atlas = ExtResource("3_yf3ee")
region = Rect2(54, 30, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_8n647"]
atlas = ExtResource("3_yf3ee")
region = Rect2(81, 30, 27, 30)

[sub_resource type="SpriteFrames" id="SpriteFrames_1103n"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_q67ww")
}],
"loop": true,
"name": &"idle_down",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_a7pjj")
}],
"loop": true,
"name": &"idle_left",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_hiac0")
}],
"loop": true,
"name": &"idle_right",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_pcoys")
}],
"loop": true,
"name": &"idle_up",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_7puw6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_etl5n")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vtcpu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2g1y5")
}],
"loop": true,
"name": &"walk_down",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_jkv0t")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ox2un")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vihf0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_b5fa5")
}],
"loop": true,
"name": &"walk_left",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_0tho4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qmknv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_oyn81")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pfvcc")
}],
"loop": true,
"name": &"walk_right",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_n8q7p")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_te33i")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ludvk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8n647")
}],
"loop": true,
"name": &"walk_up",
"speed": 5.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_sv8md"]
size = Vector2(11, 4)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_r7omf"]
polygon = PackedVector2Array(20, 0, 20, -20, 0, -20, 0, 0)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_rn64d"]
polygon = PackedVector2Array(-4.5, 15, -4.5, 10, 4.5, 10, 4.5, 15)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_07f25"]
polygon = PackedVector2Array(-5, 15, -5, 10, 6, 10, 6, 15)

[node name="Niko" type="CharacterBody2D"]
process_mode = 1
texture_filter = 1
script = ExtResource("1_jnit1")

[node name="Doll" type="AnimatedSprite2D" parent="."]
y_sort_enabled = true
position = Vector2(0, -15)
sprite_frames = SubResource("SpriteFrames_1103n")
animation = &"idle_down"

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
z_index = 1
shape = SubResource("RectangleShape2D_sv8md")
debug_color = Color(0, 0.6, 0.701961, 0.419608)

[node name="ParticleOccluder" type="LightOccluder2D" parent="."]
position = Vector2(-10, 0)
occluder = SubResource("OccluderPolygon2D_r7omf")
occluder_light_mask = 2

[node name="LightOccluderVertical" type="LightOccluder2D" parent="."]
visible = false
position = Vector2(0, -13)
occluder = SubResource("OccluderPolygon2D_rn64d")

[node name="LightOccluderHorizontal" type="LightOccluder2D" parent="."]
position = Vector2(-0.5, -13)
occluder = SubResource("OccluderPolygon2D_07f25")

[node name="PointLight2D" type="PointLight2D" parent="."]
visible = false
light_mask = 4
z_as_relative = false
position = Vector2(-20, 0)
blend_mode = 1
texture = ExtResource("4_5qsl3")
