[gd_scene load_steps=38 format=3 uid="uid://cj81lcigmv75t"]

[ext_resource type="Script" path="res://actors/niko/niko.gd" id="1_jnit1"]
[ext_resource type="Texture2D" uid="uid://dd8npbmnwvm0b" path="res://actors/niko/graphics/idle.png" id="2_fqws1"]
[ext_resource type="Texture2D" uid="uid://dyyj2f32hriwp" path="res://actors/niko/graphics/walk.png" id="3_yf3ee"]
[ext_resource type="Texture2D" uid="uid://bj5435hlpu0xx" path="res://lights/circle.png" id="4_5qsl3"]
[ext_resource type="Script" path="res://actors/niko/interact_ray.gd" id="4_y6eee"]
[ext_resource type="Texture2D" uid="uid://deetq5ubnkwur" path="res://ui/graphics/context_interesting.png" id="6_b3283"]

[sub_resource type="AtlasTexture" id="AtlasTexture_q67ww"]
atlas = ExtResource("2_fqws1")
region = Rect2(0, 0, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_wwb0d"]
atlas = ExtResource("2_fqws1")
region = Rect2(27, 0, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_vw50h"]
atlas = ExtResource("2_fqws1")
region = Rect2(0, 30, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_gf2sm"]
atlas = ExtResource("2_fqws1")
region = Rect2(27, 30, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_t0u85"]
atlas = ExtResource("2_fqws1")
region = Rect2(0, 90, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_ssntb"]
atlas = ExtResource("2_fqws1")
region = Rect2(27, 90, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_0l63w"]
atlas = ExtResource("2_fqws1")
region = Rect2(0, 60, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_7puw6"]
atlas = ExtResource("3_yf3ee")
region = Rect2(0, 0, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_etl5n"]
atlas = ExtResource("3_yf3ee")
region = Rect2(27, 0, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_vtcpu"]
atlas = ExtResource("3_yf3ee")
region = Rect2(54, 0, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_2g1y5"]
atlas = ExtResource("3_yf3ee")
region = Rect2(81, 0, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_jkv0t"]
atlas = ExtResource("3_yf3ee")
region = Rect2(0, 60, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_ox2un"]
atlas = ExtResource("3_yf3ee")
region = Rect2(27, 60, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_vihf0"]
atlas = ExtResource("3_yf3ee")
region = Rect2(54, 60, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_b5fa5"]
atlas = ExtResource("3_yf3ee")
region = Rect2(81, 60, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_0tho4"]
atlas = ExtResource("3_yf3ee")
region = Rect2(0, 90, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_qmknv"]
atlas = ExtResource("3_yf3ee")
region = Rect2(27, 90, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_oyn81"]
atlas = ExtResource("3_yf3ee")
region = Rect2(54, 90, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_pfvcc"]
atlas = ExtResource("3_yf3ee")
region = Rect2(81, 90, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_n8q7p"]
atlas = ExtResource("3_yf3ee")
region = Rect2(0, 30, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_te33i"]
atlas = ExtResource("3_yf3ee")
region = Rect2(27, 30, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_ludvk"]
atlas = ExtResource("3_yf3ee")
region = Rect2(54, 30, 27, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_8n647"]
atlas = ExtResource("3_yf3ee")
region = Rect2(81, 30, 27, 30)

[sub_resource type="SpriteFrames" id="SpriteFrames_1103n"]
animations = [{
"frames": [{
"duration": 40.0,
"texture": SubResource("AtlasTexture_q67ww")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wwb0d")
}, {
"duration": 30.0,
"texture": SubResource("AtlasTexture_q67ww")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wwb0d")
}],
"loop": true,
"name": &"idle_down",
"speed": 8.0
}, {
"frames": [{
"duration": 40.0,
"texture": SubResource("AtlasTexture_vw50h")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gf2sm")
}, {
"duration": 30.0,
"texture": SubResource("AtlasTexture_vw50h")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gf2sm")
}],
"loop": true,
"name": &"idle_left",
"speed": 8.0
}, {
"frames": [{
"duration": 40.0,
"texture": SubResource("AtlasTexture_t0u85")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ssntb")
}, {
"duration": 30.0,
"texture": SubResource("AtlasTexture_t0u85")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ssntb")
}],
"loop": true,
"name": &"idle_right",
"speed": 8.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_0l63w")
}],
"loop": true,
"name": &"idle_up",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_7puw6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_etl5n")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vtcpu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2g1y5")
}],
"loop": true,
"name": &"walk_down",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_jkv0t")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ox2un")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vihf0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_b5fa5")
}],
"loop": true,
"name": &"walk_left",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_0tho4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qmknv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_oyn81")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pfvcc")
}],
"loop": true,
"name": &"walk_right",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_n8q7p")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_te33i")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ludvk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8n647")
}],
"loop": true,
"name": &"walk_up",
"speed": 5.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_sv8md"]
size = Vector2(11, 4)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_r7omf"]
polygon = PackedVector2Array(20, 0, 20, -20, 0, -20, 0, 0)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_rn64d"]
polygon = PackedVector2Array(-4.5, 15, -4.5, 10, 4.5, 10, 4.5, 15)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_07f25"]
polygon = PackedVector2Array(-5, 15, -5, 10, 6, 10, 6, 15)

[sub_resource type="AtlasTexture" id="AtlasTexture_6rsek"]
atlas = ExtResource("6_b3283")
region = Rect2(0, 0, 19, 20)

[sub_resource type="AtlasTexture" id="AtlasTexture_5bujy"]
atlas = ExtResource("6_b3283")
region = Rect2(19, 0, 19, 20)

[sub_resource type="SpriteFrames" id="SpriteFrames_tex8l"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_6rsek")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5bujy")
}],
"loop": true,
"name": &"default",
"speed": 3.0
}]

[node name="Niko" type="CharacterBody2D"]
process_mode = 1
texture_filter = 1
collision_layer = 3
motion_mode = 1
floor_max_angle = 0.872665
script = ExtResource("1_jnit1")

[node name="Doll" type="AnimatedSprite2D" parent="."]
y_sort_enabled = true
position = Vector2(0, -15)
sprite_frames = SubResource("SpriteFrames_1103n")
animation = &"idle_down"
frame_progress = 0.955745

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
z_index = 1
shape = SubResource("RectangleShape2D_sv8md")
debug_color = Color(0, 0.6, 0.701961, 0.419608)

[node name="InteractRay" type="RayCast2D" parent="."]
target_position = Vector2(0, 5)
collision_mask = 256
script = ExtResource("4_y6eee")

[node name="ParticleOccluder" type="LightOccluder2D" parent="."]
modulate = Color(1, 1, 1, 0)
position = Vector2(-10, 0)
occluder = SubResource("OccluderPolygon2D_r7omf")
occluder_light_mask = 2

[node name="LightOccluderVertical" type="LightOccluder2D" parent="."]
visible = false
position = Vector2(0, -13)
occluder = SubResource("OccluderPolygon2D_rn64d")

[node name="LightOccluderHorizontal" type="LightOccluder2D" parent="."]
modulate = Color(1, 1, 1, 0)
position = Vector2(-0.5, -13)
occluder = SubResource("OccluderPolygon2D_07f25")

[node name="PointLight2D" type="PointLight2D" parent="."]
visible = false
light_mask = 4
z_as_relative = false
position = Vector2(-20, 0)
blend_mode = 1
texture = ExtResource("4_5qsl3")

[node name="ContextPopup" type="AnimatedSprite2D" parent="."]
unique_name_in_owner = true
modulate = Color(1, 1, 1, 0)
position = Vector2(0, -42)
sprite_frames = SubResource("SpriteFrames_tex8l")
autoplay = "default"
frame = 1
frame_progress = 0.889448
